define(['./isObject', './_setup'], function (isObject, _setup) {
  function ctor() {
    return function(){};
  }
  function baseCreate(prototype) {
    if (!isObject(prototype)) return {};
    if (_setup.nativeCreate) return _setup.nativeCreate(prototype);
    var Ctor = ctor();
    Ctor.prototype = prototype;
    var result = new Ctor;
    Ctor.prototype = null;
    return result;
  }
  return baseCreate;
});
