import { allSignals } from './all-signals.js';
 * Starts forwarding signals to `child` through `parent`.
 */
export const proxySignals = (child) => {
    const listeners = new Map();
    for (const sig of allSignals) {
        const listener = () => {
            try {
                child.kill(sig);
            }
            catch (_) { }
        };
        try {
            process.on(sig, listener);
            listeners.set(sig, listener);
        }
        catch (_) { }
    }
    const unproxy = () => {
        for (const [sig, listener] of listeners) {
            process.removeListener(sig, listener);
        }
    };
    child.on('exit', unproxy);
    return unproxy;
};
