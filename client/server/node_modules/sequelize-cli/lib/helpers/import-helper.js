"use strict";
var _url = _interopRequireDefault(require("url"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
async function supportsDynamicImport() {
  try {
    await import('./dummy-file.js');
    return true;
  } catch (e) {
    return false;
  }
}
 * Imports a JSON, CommonJS or ESM module
 * based on feature detection.
 *
 * @param modulePath path to the module to import
 * @returns {Promise<unknown>} the imported module.
 */
async function importModule(modulePath) {
  if (_url.default.pathToFileURL && !modulePath.endsWith('.json') && (await supportsDynamicImport())) {
    return import(_url.default.pathToFileURL(modulePath));
  }
  return {
    default: require(modulePath)
  };
}
module.exports = {
  supportsDynamicImport,
  importModule
};
